
Чтобы обеспечить единое понимание и чёткий вектор развития нашего продукта, мы формализуем требования к системе отзывов в двух основных разделах — функциональных и нефункциональных.

---

### Функциональные требования

Система должна позволять зарегистрированным пользователям оставлять отзывы о любых организациях — от ресторанов и кафе до кинотеатров и хостелов. Каждый пользователь, прошедший авторизацию, сможет опубликовать текстовый отзыв с присвоением рейтинга и, при необходимости, прикрепить к нему изображения. Опубликованные отзывы не подлежат редактированию, но могут быть удалены самим автором.

Наша платформа выступает не только «родным» местом для внутренних отзывов, но и агрегатором: она интегрируется с внешними источниками через механизмы pull‑запросов и через шину сообщений Kafka. При запуске и в ходе работы система синхронизирует отзывы из подключённых внешних сервисов, а при желании отправляет собственные публикации обратно во внешнюю систему (если та предоставляет соответствующий API).

Что касается модели данных, мы структурируем информацию об организациях до третьей нормальной формы: города, улицы и здания хранятся в отдельных таблицах, а каждая организация обладает ссылкой на конкретное здание. Это даёт возможность гибко фильтровать или группировать отзывы по любому адресному параметру.

Наконец, любой внешний компонент, будь то веб‑интерфейс, мобильное приложение или сторонний аналитический модуль, может работать с нашей системой через единый REST‑API — получать списки отзывов, запросы по организациям и собственные публикации пользователя.

---

### Нефункциональные требования

С точки зрения надёжности и устойчивости наша система опирается на PostgreSQL в качестве основного хранилища отзывов и метаданных. Для асинхронной интеграции используется Kafka вместе с Zookeeper — в случае недоступности какого‑либо внешнего источника отзывы сохраняются в шине, и при восстановлении соединения синхронизируются автоматически.

Производительность сервиса рассчитана на небольшую до среднюю нагрузку MVP‑этапа: запросы к REST‑API обслуживаются быстро благодаря индексации полей (организация, дата публикации, рейтинг), а Kafka‑консьюмеры обрабатывают события параллельно, без блокировок. Масштабирование возможно за счёт увеличения числа консьюмеров Kafka и репликации PostgreSQL.

Безопасность гарантируется тем, что только авторизованные пользователи могут вносить изменения — все операции создания, удаления отзывов и загрузки изображений защищены токен‑базированной аутентификацией. При этом чтение отзывов остаётся открытым.

Для хранения мультимедийных вложений мы используем отдельный сервис cloud‑storage, демонстрационная реализация которого может быть легко заменена на облачное решение (AWS S3, Google Cloud Storage и т. д.).